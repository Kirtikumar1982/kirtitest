pipeline {
    agent {
		label 'master'
	}

stages {
   stage('checkout') {
            steps {
                node('master'){
                checkout scm
               }
            }
        }

        stage('package') {
            steps {
                node('master'){
                
                sh 'mvn clean install'
               }
            }
        }
   stage('Create Docker Image') {
   steps{
   node('master') {
   sh '''
    #!/bin/bash
    echo "hello team"
    docker login https://hub.docker.com -u kirtikumar1982 -p Secure+800
    docker build -t kirtitest/microtest .
   sh '''
    }
    }
    }
  }
}
